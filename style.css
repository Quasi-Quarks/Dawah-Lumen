/* =========================================================
   Dawah Luminance — Mobile/PWA-first stylesheet (iOS tuned)
   NO ANIMATIONS — optimized for iPhone performance
========================================================= */

/* ---------- Variables / Base ---------- */
:root{
  --max-feed: 756px;
  --ring-width: 2.4px;
  --gap: .48rem;
  --card-pad-y: 1.15rem;
  --card-pad-x: .9rem;
  --avatar: 36px;
  --send-btn: 36px;                /* bigger touch target on iOS */
  --input-h: 40px;                 /* taller input for thumbs */
  --headline-size: clamp(1.8rem, 2.8vw + 1.4rem, 2.7rem);
  --page-pad: max(12px, env(safe-area-inset-left));
  --page-pad-r: max(12px, env(safe-area-inset-right));
  --page-pad-b: max(8px, env(safe-area-inset-bottom));
  --glass-bg: rgba(0,0,0,.14);     /* slightly lighter for contrast */
  font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

*,
*::before,
*::after {box-sizing: border-box;/* border: 2px solid blue; */}

html, body { height: 100%; background: #000; }

body{
  color:#fff;
  margin:0;
  padding:0;
  min-height: 100vh;
  min-height: -webkit-fill-available; /* iOS PWA/Safari */
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
}

/* ---------- App Shell / Background (static) ---------- */
#body{
  min-height: 100vh;
  min-height: -webkit-fill-available;
  width: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;

  /* Static overlay + hero image (no animated gradient, no fixed attach) */
  background:
    linear-gradient(-45deg, rgba(0,31,61,.72), rgba(15,32,39,.72), rgba(44,83,100,.72), rgba(0,31,61,.72)),
    url('background.jpg') no-repeat center / cover;

  padding-left: var(--page-pad);
  padding-right: var(--page-pad-r);
}

/* ---------- Header (static neon text) ---------- */
h1{
  margin: clamp(18px, 4vh, 48px) 0 clamp(4px, 1vh, 8px);
  text-align:center;
  width:100%;
  font-weight:700;
  font-size: var(--headline-size);
  letter-spacing:2px;
  font-family:'Orbitron', system-ui, -apple-system, Segoe UI, Roboto, sans-serif;

  /* Static gradient fill (no animation) */
  background: linear-gradient(90deg,#00e5ff,#ff4081,#76ff03,#ffab00);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  text-shadow:0 0 12px rgba(0,229,255,.25);
}

.hint, .tiny, code, #debugform, #warn { display:none; }

/* ---------- Messages Feed ---------- */
#messages{
  display:flex;
  flex-direction:column;
  gap: var(--gap);
  width: 100%;
  max-width: var(--max-feed);
  margin: 0 auto;
  padding: 0 8px clamp(80px, 12vh, 120px); /* space for composer */
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;       /* iOS momentum */
  overscroll-behavior: contain;
  justify-content: flex-start;
}

.msg{
  display:flex;
  align-items: flex-start;
  gap: .6rem;
  padding: var(--card-pad-y) var(--card-pad-x);
  border-radius: .8rem;

  /* Static neon ring (no rotation) */
  border: var(--ring-width) solid;
  border-top-color:#ff4081;
  border-right-color:#00e5ff;
  border-bottom-color:#5fff03;
  border-left-color:#ffab00;

  /* Light “glass” look without heavy blur */
  background: var(--glass-bg);
  /* If you want a tiny blur, uncomment next two lines (slight cost on iOS):
     backdrop-filter: saturate(120%) blur(2px);
     -webkit-backdrop-filter: saturate(120%) blur(2px);
  */
  max-width: 200px;
}

.msg .avatar{
  width: var(--avatar);
  height: var(--avatar);
  border-radius: 50%;
  object-fit: cover;
  border: 1px solid #ddd;
  margin: 1px 2px 0 2px;
  flex: 0 0 var(--avatar);
}

.msg .bubble{ flex: 1 1 auto; min-width: 0; }
.msg .name{ font-weight: 650; margin-bottom: .15rem; font-size: clamp(0.98rem, 1.2vw + .75rem, 1.1rem); }
.msg .bubble > div:last-child { line-height: 1.45; }

/* ---------- Composer (fixed bottom bar) ---------- */
.formsend{
  position: fixed;
  left: 50%;
  transform: translateX(-50%) translateZ(0); /* promote to own layer */
  bottom: 0;
  width: min(92vw, 900px);
  padding: 8px 10px calc(8px + var(--page-pad-b));
  background: linear-gradient(180deg, transparent 0%, rgba(0,0,0,.18) 40%);
}

form#form{
  display:flex;
  align-items:center;
  justify-content: space-between;
  gap: .5rem;
}

#chat{
  flex: 1 1 auto;
  min-width: 0;
  height: var(--input-h);
  max-height: var(--input-h);
  padding: .6rem .75rem;
  color: #111;
  background: #fff;
  border: none;
  border-radius: .65rem;
  outline: none;
  font-size: 1rem;
  box-shadow: 0 2px 10px rgba(0,0,0,.18);
}

button{
  position: relative;               /* for hit-area */
  cursor: pointer;
  background: #5b5bab;
  border: none;
  /* width: var(--send-btn); */
  /* height: var(--send-btn); */
  min-width: var(--send-btn);
  min-height: var(--send-btn);
  /* background-image: url('send.png'); */
  background-size: 100% 100%;
  background-repeat: no-repeat;
  filter: drop-shadow(0 2px 8px rgba(0,0,0,.35));
}

/* Bigger hit-area on iOS for the send button */
button::after{
  content:'';
  position:absolute;
  inset:-6px;
}

/* ---------- Banners & Badges ---------- */
.userBadge{
  display:flex;
  align-items:center;
  gap:.5rem;
  margin:.5rem 0 1rem;
  color:#cfcfcf;
  opacity: 0;
}
.userBadge .avatar{ width: 28px; height: 28px; border: 0; }

.banner{
  display:none;
  background:#0b1c28aa;
  border:1px solid #2a9df4;
  padding:.7rem .9rem;
  border-radius:.6rem;
  margin:.9rem 0;
  max-width: var(--max-feed);
  width: 100%;
}
.banner.show{ display:block; }

/* ---------- Layout tweaks ---------- */
@media (orientation:landscape){
  #messages { padding-bottom: clamp(72px, 10vh, 110px); }
  .msg{max-width: 200px;margin-inline: auto;width: 50vw;min-width: 34vw;}
}

@media (orientation:portrait){
  .msg{max-width: max-content;margin-inline: auto;width: 87vw;min-width: 86vw;}
}

/* ---------- Light mode tweaks ---------- */
@media (prefers-color-scheme: light){
  #chat{ color:#111; background:#fff; }
}

/* ---------- Reduced motion (still no animations, just future-proof) ---------- */
@media (prefers-reduced-motion: reduce) {
  /* nothing to disable—animations removed by design */
}

/* ---------- Legacy iOS safe-area fallback ---------- */
@supports (padding: max(0px)) {
  .formsend { padding-bottom: max(8px, constant(safe-area-inset-bottom)); }
}


button#sendBtn {
    background: none;
    background-image: url(send.png);
    background-size: 100% 100%;
    border-radius: 100%;
    padding: 17px;
    max-height: 2px;
}

button#sendBtn:active {
    background-color: #b717175e;
}

button#sendBtn:focus {
    background-color: blue;
}

button#sendBtn:hover {
    /* background-color: green; */
}